#### 作業系統與應

。**ls** 

檢查自己目錄的檔名資料

**。ll**

查閱比較詳細的資訊，時間、容量等。

**。ll /**

查閱根目錄

**。ll -a**

顯示家目錄底下是否有隱藏檔。

**。history**

列出之前下達過的指令。

**。bc 數學計算**

scale =1 //計算到小數點後1位。

1/3 =>.3

。su - 

會切換成root如果要退出root模式，則要輸入exit指令回到user模式 
。sudo 

只有當行執行時變成Root模式之後會切換回一般

。 ll /etc/ | grep 'passwd'

只列出關鍵字的那行

**。df**

顯示出來，根目錄開始所撰寫的檔名稱為「絕對路徑」

**。cd /var/spool/mail**

變更工作目錄變更到 /var/spool/mail，使用的就是cd

。**pwd**

列出目前工作目錄 

**。cp /etc/hosts class3**

複製檔案到class3目錄

**。rmdir**

刪除空的目錄

**。rm**

刪除檔案

**。rm -r class3**

刪除目錄

**。cd..**

觀察上一層目錄的檔案資料

**。ll /etc/cron.d**

該目錄下的內容 
**。ll -d /etc/cron.d**

檢視本身目錄資訊
**。ll /etc/cron***

檢視/etc底下/cron內的有關/cron開頭所有檔案和目錄

| /   | 根目錄，從根目錄寫起的檔名只會存在一個         |
| --- | --------------------------- |
| ~   | 使用者的家目錄，不同用戶的家目錄均不相同        |
| .   | 一個小數點，代表的是『本目錄』，亦即目前的工作目錄之意 |
| ..  | 兩個小數點，代表的是『上一層目錄』           |
| -   | 一個減號，代表『上一次的工作目錄』之意         |

| 絕對路徑 | 由根目錄(/)開始寫起的檔名或目錄名稱， 例如 /home/student/.bashrc                              |
| ---- | -------------------------------------------------------------------------- |
| 相對路徑 | 相對於目前路徑的檔名寫法。 例如 ./home/student 或 ../../home/student/ 等等。開頭不是 / 就屬於相對路徑的寫法 |

。ll -d/etc/5

找到檔案中含有5的檔名

。ll -d /etc/? 

(?)代表一個字元

。ll -d /etc/??

兩個字元的檔案名

。ll -d /etc/***[0-9] *** 

有關於0-9有的檔案名找出來

。cp 

僅複製檔案，不會複製目錄

。cp -r

複製目錄

。cp -a

完整備份

。cp -r/etc/init.d .

複製目錄

。file /etc/passwd

檢視檔案類型

。mv /etc/hosts. 

移動檔案

。mv hosts hosts.new

A B改名

。mkdir testdir 

產生空白目錄

。touch testfile

產生空白檔案

。touch test{1,2,3,4}

產生4個空白檔

。cat /etc/hosts

。head /etc/profile

head顯示前十行

。tail /etc/passwd 

tail 顯示最後十行

。main查詢參數

。tail -n {數字} /檔案位置 

想顯示幾行

。head -n {數字} /檔案位置

想顯示幾行

。 cat < /etc/hosts 

指令 cat < /etc/hosts 的功能是將/etc/hosts這個檔案內容輸出到終端上

。cat < /etc/hosts > hosts 

開啟/etc/hosts檔案，將/etc/hosts檔案的全部複製一份，並將複製的內容儲存到一個新檔案名為hosts中。

。cat < /etc/hosts >>hosts 

開啟/etc/hosts檔案，將/etc/hosts檔案的全部內容複製一份，並將複製內容<mark>追加</mark>到一個名為hosts檔案中，如果hosts1已經存在則<mark>複製的內容會添加到檔案的末端</mark>，如果hosts檔案不存在，則會創建一個新的檔案。

```
>：覆蓋模式，會將輸出內容覆蓋到目標檔案。
>>：追加模式，會將輸出內容添加到目標檔案的末尾
```

。vi services  

開始查閱services的內容

```
vi 內快速移動到幾列
用 G
5G 第五列
:q 離開
!q不用存檔離開
:wq存檔離開
```

![](https://cdn.discordapp.com/attachments/1295561307445002342/1298117157476892762/image.png?ex=6732c350&is=673171d0&hm=f2eefdcb7a0268b079af737d1de8af7610318a89833801bccf69391d0e21802e&=)

圖片Link： https://meee.com.tw/x0wqUVh

a、i、o 皆為編輯模式

W  為游標所指的位置後刪掉該行後面所有文字

X 等同於delete

p 貼上

dd 剪下該行

Z 離開vi

===================================================

### <mark>檔案權限</mark>

user / owner /檔案擁有者 / 使用者 ：就是檔案所屬人

group /群組 ：這個檔案附屬於那一個群組團隊

others /其他人 ：不是user也沒加入group 的帳號，就是其他人。

--------------------------------------------------------------------

*『檔案』的『類型』
d: 代表後面的檔名為<u>**目錄檔</u>**
l: 代表後面的檔名為<u>**連結檔**</u> (有點類似 windows 的捷徑概念)
b: 代表後面的檔名為一個<u>**裝置檔**</u>，該裝置主要為區塊裝置，亦即儲存媒體的裝置較多
c: 代表後面的檔名為一個<u>**週邊裝置檔**</u>，例如滑鼠、鍵盤等

-：代表後面的檔名為<u>**一般檔案**</u>

==================================================================

![](https://cdn.discordapp.com/attachments/1295561307445002342/1298134681627136021/image.png?ex=6732d3a2&is=67318222&hm=49eb39310805e6ea41392cc81eb35eb5fc84c6df8ef32b2dd68e7764900ce9e0&=)

圖片LINK： https://meee.com.tw/dUzzrj5

---------------------------------------------------------------------------------------

r: read，可讀的意思
w: write，可寫入/編輯/修改的意思
x: eXecutable，可以執行的意思

搭配上圖LINK看

再使用 file 查詢一下上述的檔名類型：

[student@localhost ~]$ getfacl /var/spool/mail
getfacl: Removing leading '/' from absolute path names

# file: var/spool/mail   <==檔名

# owner: root            <==檔案擁有者

# group: mail            <==檔案群組

user::rwx                <==使用者的權限
group::rwx               <==同群組帳號的權限
other::r-x               <==其他人的權限

====================================================

而若帳號設定錯誤，可以使用 userdel 刪除帳號，例如：

[root@localhost ~]# userdel -r myuser1

<mark>(記得，**帳號管理**是系統管理員的任務， 所以，身份一定要是  **root**   才行！)</mark>

#### 。**新增User**

[root]模式下：

[root@localhost ~]#useradd {使用者名稱}

[root@localhost ~]#passwd {使用者名稱}

New password： <=此處輸入密碼

Retype new password ：<=再次輸入密碼

#### **。新增User目錄：**

useradd -m {使用者名稱}

passwd {使用者名稱}

#### 。**刪除User**

userdel  -r {使用者名稱}

新增群組：

groupadd {群組名稱}

。usermode -a -G {群組名稱} {使用者名稱} 

將使用者機加入到群組

。grep {群組名稱} {/檔案位置} //關鍵字搜尋

。useradd -m -G progroup prouser1 建立使用者 //-G為給予群組

passwd prouser1 <=設定密碼

### <mark>變更權限 </mark>

。chown {使用者名稱}：{群組}  ~{使用者名稱}/hosts

。chown prouser1:progroup /home/prouser1

權限變更prouser(原)：progroup(新)

。chmod o+x . 變更權限

。x為進入目錄

權限：

r  => read ==> 4

w => writr ==>2

x  => execute ==> 1

最高7分，最低0分

ex：

-rw-rw-r-- 以三個為單位

。- rw-  rw - r--

 r: read，可讀的意思
w: write，可寫入/編輯/修改的意思
x: eXecutable，可以執行的意思

<style type="text/css"></style>

| -    | rw-  | rw-   | r--   |
| ---- | ---- | ----- | ----- |
| 檔案類型 | user | group | ohter |
|      | 6    | 6     | 4     |

題目：-rw-rw-r--

| chmod | u(user)  <br>g(group)  <br>o(other)  <br>a(all) | +(加入)  <br>-(減去)  <br>=(設定) | r  <br>w  <br>x | 檔案或目錄 |
| ----- | ----------------------------------------------- | --------------------------- | --------------- | ----- |

#### <mark>**。修改檔案擁有者**</mark> ，chown修改擁有者

題目：有個檔案名為Checking而擁有者為student 請將Checking檔案的擁有者改為user

-------------------------------------------------------------------------------------------------

[root]# chown user checking 

chown {新擁有者} {檔案}

====================================================================

#### <mark>。修改檔案擁有的群組</mark>，chgrp修改擁有群組

====================================================================

## <mark> 。觀察程序的工具指令</mark>

。ps -l 

僅觀察 bash 自己相關的程序

![](https://cdn.discordapp.com/attachments/1295561307445002342/1305710636495278141/image.png?ex=6734054a&is=6732b3ca&hm=b3b41be084020550a837edb425c46daf6057f810e2aba0083886dc1da7ad51ef&=)

圖片Link： https://meee.com.tw/guKEfvf

- **F (flag)：代表程序的總結旗標。**
  
  - 常見為 4 代表 root 特權程序
  - 0 應為一般程序
  - 1 為複製 (forked) 但未執行 (exec) 的程序。
  
  ------------------------------------------------------------------------

- **S (stat)：狀態列，主要的分類項目有：**
  
  - R ：(running/runnable/run queue) 正在<mark>執行或可執行的程序</mark>，或者在可執行佇列中的程序
  - S ：(interruptible sleep) 該程式<mark>目前正在睡眠狀態</mark>，但<mark>可以被其他事件喚醒來運作</mark>程序
  - D ：(uninterruptible sleep)<mark> 不可被喚醒的睡眠狀態</mark>，通常這支程式可能在等待 I/O 的情況(ex>列印)
  - T ：(stop by job control)，可能是在<mark>工作控制(背景暫停)</mark>狀態；
  - t ：(stop by debugger)，可能是在<mark>除錯 (traced) 狀態</mark>；
  - Z ：(Zombie) 僵屍狀態，<mark>程序已經終止但卻無法被移除至記憶體外</mark>。
  
  ----------------------------------------------------------------------------------

- UID/PID/PPID：代表『此程序被該 UID 所擁有/程序的 PID 號碼/此程序的父程序 PID 號碼』
  
  ------------------------------------------------------------------------------------------------------------------

- C：代表 <mark>CPU 使用率</mark>，單位為百分比
  
  ----------------------------------------------------------------------------------------------------

- PRI/NI：Priority/Nice 的縮寫，代表此<mark>**程序被 CPU 所執行的優先順序**</mark>，數值越小代表該程序越快被 CPU 執行。 不過，不同的輸出格式其計算方法不同，因此，讀者大概只要知道 NI (nice) 值即可。
  
  -----------------------------------------------------------------------------------------------------------

- ADDR/SZ/WCHAN：都與記憶體有關。
  
  - ADDR 是 kernel function，指出該程序在記憶體的哪個部分，如果是個 running 的程序，一般就會顯示『 - 』 
  - <mark>**SZ 代表此程序用掉多少記憶體(Kbytes)**</mark> 
  - WCHAN 表示目前程序是否運作中，同樣的， 若為 - 表示正在運作中。
  
  ------------------------------------------------------------------------------------

- TTY：<mark>登入者的終端機位置</mark>，若為遠端登入則使用動態終端介面 (pts/n)
  
  -------------------------------------------------------------------------------------------------------------

- TIME：使用掉的 CPU 時間，注意，是此<mark>程序實際花費 CPU 運作的時間</mark>，而不是系統時間
  
  -----------------------------------------------------------------------------------------------------------------

- CMD：就是 command 的縮寫，造成此<mark>程序的觸發程式之指令為何</mark>

=============================================================

。ps u

看user所有的程式



==================================================================

測驗練習：

 〈第一章〉

1、使用者user帳號，在文字模式下登入系統，出現以下的資訊，請問~代表哪個目錄？   [user@localhost ~]$_

1. /user
2. /windows/user/user
3. /home/user
4. /user/user

-----------------------------------------------

答案：3

===================================================================

2、關於開放原始碼的程式, 以下敘述何者錯誤？

1. 程式不會被某家公司所壟斷

2. 程式可以自由複製給其他人使用

3. 開放原始碼程式是公共財, 所以不應該藉其發展商業行為

4. 世界上所有的人都可以幫忙維護程式
   
   ------------------------------------------------------------------

答案：3

=================================================================

3、在 X Window 下, 若想切換到文字模式的虛擬主控台工作, 應如何切換？

1. Ctrl + Shift + 2
2. Ctrl + Alt + F7
3. Ctrl + Alt + F3
4. Ctrl + Alt + 1

-----------------------------------------------------------------------------------

答案：3

===========================================================

4、Linux 採用下列何種授權條款發行？

1. OpenSource
2. GPL
3. GNU
4. Copyright

----------------------------------------------------------------------------------------

答案：2

=========================================================

5、如何判定 Linux 核心的版本為穩定版或測試版？

1. 小數點後第 1 位為偶數表示穩定版
2. 小數點後第 2 位為偶數表示穩定版
3. 小數點後第 1 位為奇數表示穩定版
4. 小數點後第 2 位為奇數表示穩定版

----------------------------------------------------------------------------------------------------------

答案：1

==============================================================

6、以下關於 Linux 的敘述, 何者是正確的？

1. Linux 只能在 x86 架構的平台上運行
2. Linux 屬於自由軟體基金會所有
3. Linux 是一個完全使用文字模式操作的作業系統
4. Linux 核心可以免費取得

---------------------------------------------------------------------------------

答案：4

=================================================================
